<!DOCTYPE html>
<html>
<head lang="es">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PLANTILLA  | Prueba SIG</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/metisMenu.css">
    <link rel="stylesheet" href="css/custom-sidebar.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.15/esri/css/esri.css">
    <link rel="stylesheet" href="css/map.css">

</head>
<body>
    <div id="wrapper">
        <nav id="header" class="navbar navbar-inverse navbar-static-top"  role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">SISTEMA DE INFORMACION GEOGRAFICA - [PLANTILLA WEB SIG]</a>
            </div><!--navbar-header-->
            <ul id="header-navbar-right" class="nav navbar-nav navbar-top-links navbar-right">
                <li>
                    <a class="btn btn-link" title="Iniciar sesion" href="#">
                        <i class="fa fa-sign-in"></i>&nbsp; Ingresar
                    </a>
                </li>
                <li>
                    <a title="Crear cuenta de usuario" href="#">
                        <i class="fa fa-user-plus"></i>&nbsp; Registrarse
                    </a>
                </li>
            </ul><!--navbar  right-->
        </nav>
    </div>
    <div id="side-bar" class="navbar-default sidebar" role="navigation">
        <div id="separador"></div>
        <div  class=" sidebar-nav navbar-collapse">
            <ul class="nav" id="side-menu">
                <li>
                    <a href="#"><i class="fa fa-home"></i> &nbsp;&nbsp;Inicio</a> 
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp;Nombre del Mapa 1<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i>&nbsp;&nbsp; Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i>&nbsp;&nbsp;Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp;Nombre del Mapa 2<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i> &nbsp;&nbsp;Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i> &nbsp;&nbsp;Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp; Nombre del Mapa 3<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i>&nbsp;&nbsp; Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i>&nbsp;&nbsp; Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp;Nombre del Mapa 4<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i> &nbsp;&nbsp;Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i> &nbsp;&nbsp;Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp;Nombre del Mapa 5<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i>&nbsp;&nbsp; Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i> &nbsp;&nbsp;Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp;Nombre del Mapa 6<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i> &nbsp;&nbsp;Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i> &nbsp;&nbsp;Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-dot-circle-o"></i>&nbsp;&nbsp;Nombre del Mapa 7<span class="fa arrow"></span></a> 
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="../index.html"><i class="fa fa-file-text-o"></i> &nbsp;&nbsp;Descripcion</a> 
                        </li>
                        <li>
                            <a href="../index.html"><i class="fa fa-map-marker"></i> Ver Mapa</a> 
                        </li>
                    </ul>
                </li>
            </ul>
        </div><!--sidebar-nav collapse-->
    </div>
    <div id="map-container">
        <div id="map" class="map">
             <div id="swipeDiv"></div>
        </div>
    </div>
    <div id="footer"></div>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="//js.arcgis.com/3.15/"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/metisMenu.js"></script>

    
    <script>
        require([
      "esri/map", 
      "esri/dijit/LayerSwipe",
      "esri/arcgis/utils",
      "dojo/_base/array",
      "dojo/domReady!"
    ], function(
      Map, LayerSwipe, arcgisUtils, array 
    )  {

      var mapDeferred = arcgisUtils.createMap("62702544d70648e593bc05d65180fd64", "map");
      mapDeferred.then(function(response){

        var id;
        var map = response.map;
        var title = "2009 Obesity Rates";
        
        //loop through all the operational layers in the web map 
        //to find the one with the specified title;
        var layers = response.itemInfo.itemData.operationalLayers;
        array.some(layers, function(layer){
          if(layer.title === title){
            id = layer.id;
            if(layer.featureCollection && layer.featureCollection.layers.length){
              id = layer.featureCollection.layers[0].id;
            }
            return true;  
          }else{
            return false;
          }
        });
        //get the layer from the map using the id and set it as the swipe layer. 
        if(id){
          var swipeLayer = map.getLayer(id);
          var swipeWidget = new LayerSwipe({
            type: "vertical",  //Try switching to "scope" or "horizontal"
            map: map,
            layers: [swipeLayer]
          }, "swipeDiv");
          swipeWidget.startup();
        }
      });

    });
    </script>
        
</body>
</html>